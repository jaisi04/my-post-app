{"ast":null,"code":"var _jsxFileName = \"/Users/prince.kumar/Downloads/my-post-app/src/components/Posts/index.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport PostsComponent from './Posts';\n\nclass Posts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      posts: [],\n      page: 1,\n      rows: 10,\n      filterKey: '',\n      error: ''\n    };\n    this.updateField = this.updateField.bind(this);\n    this.getPosts = this.getPosts.bind(this);\n    this.updatePage = this.updatePage.bind(this);\n  }\n\n  componentDidMount() {\n    this.getPosts();\n  }\n\n  updateField(e) {\n    e.preventDefault();\n    this.setState({\n      filterKey: e.target.value\n    }, () => this.getPosts());\n  }\n\n  updatePage(e) {\n    e.preventDefault();\n    this.setState({\n      page: e.target.value\n    }, () => this.getPosts());\n  }\n\n  getPosts() {\n    const {\n      page,\n      rows,\n      filterKey\n    } = this.state;\n    this.setState({\n      btnDisabled: true\n    });\n    axios.get(`http://localhost:8080/posts?pageNo=${page}&pageSize=${rows}&title=${filterKey}`, {\n      headers: {\n        Authorization: `Bearer ${this.props.token}`\n      },\n      page,\n      rows,\n      filterKey\n    }).then(res => {\n      console.log(res);\n      this.setState({\n        posts: res.data || []\n      });\n    }).catch(err => {\n      this.setState({\n        error: 'Something went wrong'\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(PostsComponent, Object.assign({\n      updatePage: this.updatePage,\n      updateField: this.updateField\n    }, this.state, this.props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 16\n      }\n    }));\n  }\n\n}\n\nexport default Posts;","map":{"version":3,"sources":["/Users/prince.kumar/Downloads/my-post-app/src/components/Posts/index.js"],"names":["React","axios","PostsComponent","Posts","Component","constructor","props","state","posts","page","rows","filterKey","error","updateField","bind","getPosts","updatePage","componentDidMount","e","preventDefault","setState","target","value","btnDisabled","get","headers","Authorization","token","then","res","console","log","data","catch","err","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,SAA3B;;AAEA,MAAMC,KAAN,SAAoBH,KAAK,CAACI,SAA1B,CAAoC;AAChCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE,EADE;AAETC,MAAAA,IAAI,EAAE,CAFG;AAGTC,MAAAA,IAAI,EAAE,EAHG;AAITC,MAAAA,SAAS,EAAE,EAJF;AAKTC,MAAAA,KAAK,EAAE;AALE,KAAb;AAOA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKE,UAAL,GAAkB,KAAKA,UAAL,CAAgBF,IAAhB,CAAqB,IAArB,CAAlB;AACH;;AAEDG,EAAAA,iBAAiB,GAAG;AAChB,SAAKF,QAAL;AACH;;AAEDF,EAAAA,WAAW,CAACK,CAAD,EAAG;AACVA,IAAAA,CAAC,CAACC,cAAF;AACA,SAAKC,QAAL,CAAc;AAACT,MAAAA,SAAS,EAAEO,CAAC,CAACG,MAAF,CAASC;AAArB,KAAd,EAA2C,MAAM,KAAKP,QAAL,EAAjD;AACH;;AAEDC,EAAAA,UAAU,CAACE,CAAD,EAAG;AACTA,IAAAA,CAAC,CAACC,cAAF;AACA,SAAKC,QAAL,CAAc;AAACX,MAAAA,IAAI,EAAES,CAAC,CAACG,MAAF,CAASC;AAAhB,KAAd,EAAsC,MAAM,KAAKP,QAAL,EAA5C;AACH;;AAEDA,EAAAA,QAAQ,GAAE;AACN,UAAM;AAAEN,MAAAA,IAAF;AAAQC,MAAAA,IAAR;AAAcC,MAAAA;AAAd,QAA4B,KAAKJ,KAAvC;AACA,SAAKa,QAAL,CAAc;AAACG,MAAAA,WAAW,EAAE;AAAd,KAAd;AACAtB,IAAAA,KAAK,CAACuB,GAAN,CAAW,sCAAqCf,IAAK,aAAYC,IAAK,UAASC,SAAU,EAAzF,EAA4F;AACxFc,MAAAA,OAAO,EAAE;AAACC,QAAAA,aAAa,EAAI,UAAS,KAAKpB,KAAL,CAAWqB,KAAM;AAA5C,OAD+E;AAExFlB,MAAAA,IAFwF;AAGxFC,MAAAA,IAHwF;AAIxFC,MAAAA;AAJwF,KAA5F,EAKGiB,IALH,CAKQC,GAAG,IAAI;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,WAAKT,QAAL,CAAc;AAACZ,QAAAA,KAAK,EAAEqB,GAAG,CAACG,IAAJ,IAAY;AAApB,OAAd;AACD,KARD,EAQGC,KARH,CAQSC,GAAG,IAAI;AACZ,WAAKd,QAAL,CAAc;AAACR,QAAAA,KAAK,EAAE;AAAR,OAAd;AACH,KAVD;AAWH;;AAEDuB,EAAAA,MAAM,GAAG;AACL,wBAAO,oBAAC,cAAD;AAAgB,MAAA,UAAU,EAAE,KAAKnB,UAAjC;AAA6C,MAAA,WAAW,EAAE,KAAKH;AAA/D,OAAgF,KAAKN,KAArF,EAAgG,KAAKD,KAArG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;AACH;;AA/C+B;;AAkDpC,eAAeH,KAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport PostsComponent from './Posts';\n\nclass Posts extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            posts: [],\n            page: 1,\n            rows: 10,\n            filterKey: '',\n            error: '',\n        };\n        this.updateField = this.updateField.bind(this);\n        this.getPosts = this.getPosts.bind(this);\n        this.updatePage = this.updatePage.bind(this);\n    }\n\n    componentDidMount() {\n        this.getPosts();\n    }\n\n    updateField(e){\n        e.preventDefault();\n        this.setState({filterKey: e.target.value}, () => this.getPosts());\n    }\n\n    updatePage(e){\n        e.preventDefault();\n        this.setState({page: e.target.value}, () => this.getPosts());\n    }\n\n    getPosts(){\n        const { page, rows, filterKey } = this.state;\n        this.setState({btnDisabled: true});\n        axios.get(`http://localhost:8080/posts?pageNo=${page}&pageSize=${rows}&title=${filterKey}`, {\n            headers: {Authorization : `Bearer ${this.props.token}`},\n            page,\n            rows,\n            filterKey \n        }).then(res => {\n          console.log(res);\n          this.setState({posts: res.data || []});\n        }).catch(err => {\n            this.setState({error: 'Something went wrong'});\n        })\n    }\n\n    render() {\n        return <PostsComponent updatePage={this.updatePage} updateField={this.updateField} {...this.state} {...this.props} />\n    }\n}\n\nexport default Posts;\n"]},"metadata":{},"sourceType":"module"}